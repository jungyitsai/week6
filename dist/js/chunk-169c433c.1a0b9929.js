(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-169c433c"],{"159b":function(t,a,e){var o=e("da84"),i=e("fdbc"),s=e("17c2"),n=e("9112");for(var r in i){var c=o[r],d=c&&c.prototype;if(d&&d.forEach!==s)try{n(d,"forEach",s)}catch(l){d.forEach=s}}},"17c2":function(t,a,e){"use strict";var o=e("b727").forEach,i=e("a640"),s=e("ae40"),n=i("forEach"),r=s("forEach");t.exports=n&&r?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,a,e){var o=e("d039"),i=e("b622"),s=e("2d00"),n=i("species");t.exports=function(t){return s>=51||!o((function(){var a=[],e=a.constructor={};return e[n]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},4160:function(t,a,e){"use strict";var o=e("23e7"),i=e("17c2");o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"65f0":function(t,a,e){var o=e("861d"),i=e("e8b5"),s=e("b622"),n=s("species");t.exports=function(t,a){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?o(e)&&(e=e[n],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===a?0:a)}},8418:function(t,a,e){"use strict";var o=e("c04e"),i=e("9bf2"),s=e("5c6c");t.exports=function(t,a,e){var n=o(a);n in t?i.f(t,n,s(0,e)):t[n]=e}},"99af":function(t,a,e){"use strict";var o=e("23e7"),i=e("d039"),s=e("e8b5"),n=e("861d"),r=e("7b0b"),c=e("50c4"),d=e("8418"),l=e("65f0"),u=e("1dde"),f=e("b622"),h=e("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",b=h>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=u("concat"),C=function(t){if(!n(t))return!1;var a=t[p];return void 0!==a?!!a:s(t)},L=!b||!m;o({target:"Array",proto:!0,forced:L},{concat:function(t){var a,e,o,i,s,n=r(this),u=l(n,0),f=0;for(a=-1,o=arguments.length;a<o;a++)if(s=-1===a?n:arguments[a],C(s)){if(i=c(s.length),f+i>g)throw TypeError(v);for(e=0;e<i;e++,f++)e in s&&d(u,f,s[e])}else{if(f>=g)throw TypeError(v);d(u,f++,s)}return u.length=f,u}})},a640:function(t,a,e){"use strict";var o=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&o((function(){e.call(null,a||function(){throw 1},1)}))}},ae40:function(t,a,e){var o=e("83ab"),i=e("d039"),s=e("5135"),n=Object.defineProperty,r={},c=function(t){throw t};t.exports=function(t,a){if(s(r,t))return r[t];a||(a={});var e=[][t],d=!!s(a,"ACCESSORS")&&a.ACCESSORS,l=s(a,0)?a[0]:c,u=s(a,1)?a[1]:void 0;return r[t]=!!e&&!i((function(){if(d&&!o)return!0;var t={length:-1};d?n(t,1,{enumerable:!0,get:c}):t[1]=1,e.call(t,l,u)}))}},b727:function(t,a,e){var o=e("0366"),i=e("44ad"),s=e("7b0b"),n=e("50c4"),r=e("65f0"),c=[].push,d=function(t){var a=1==t,e=2==t,d=3==t,l=4==t,u=6==t,f=5==t||u;return function(h,p,g,v){for(var b,m,C=s(h),L=i(C),y=o(p,g,3),S=n(L.length),x=0,_=v||r,w=a?_(h,S):e?_(h,0):void 0;S>x;x++)if((f||x in L)&&(b=L[x],m=y(b,x,C),t))if(a)w[x]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:c.call(w,b)}else if(l)return!1;return u?-1:d||l?l:w}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},e6dc:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mt-4 mb-4"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._l(t.products,(function(a){return e("div",{key:a.id,staticClass:"col-md-4 mt-3"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top",attrs:{src:a.imageUrl[0],alt:"Card image cap"}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right mt-2"},[t._v(t._s(a.category))]),e("h4",{staticClass:"card-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",[e("p",{staticStyle:{"text-decoration":"line-through"}},[t._v("原價："+t._s(a.origin_price))]),e("h3",{staticClass:"text-danger"},[t._v("特價："+t._s(a.price))])])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button",disabled:t.status.loadingItem.id===a.id},on:{click:function(e){return t.showItemInfo(a)}}},[t._v(" 更多資訊 "),t.status.loadingItem.id===a.id?e("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button",disabled:t.status.loadingItem.id===a.id},on:{click:function(e){return t.addToCarts(a)}}},[t._v(" 加入購物車 "),t.status.loadingItem.id===a.id?e("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()])])])])})),e("div",{staticClass:"modal fade",attrs:{id:"alertModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-body"},[t._v(" "+t._s(t.alertModalMsg)+" "),t._m(0)])])])])],2)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],s=(e("99af"),e("4160"),e("159b"),{data:function(){return{tempProduct:{},products:[],carts:[],isLoading:!0,status:{loadingItem:{id:""}},alertModalMsg:""}},created:function(){this.getProducts(),this.getCarts()},methods:{getProducts:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/products");console.log("getProducts","https://course-ec-api.hexschool.io/","83e5dddb-dc92-4272-9ddd-488cfb6ae1e0"),this.$http.get(a).then((function(a){console.log(a),t.products=a.data.data,t.isLoading=!1})).catch((function(a){console.log(a),t.isLoading=!1}))},getCarts:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping");this.$http.get(a).then((function(a){console.log("getCarts",a.data.data),t.carts=a.data.data})).catch((function(t){console.log(t)}))},addToCarts:function(t){var a=this;console.log("addToCarts",t),this.$set(this.status.loadingItem,"id",t.id);var e=!1;if(this.carts.forEach((function(a){a.product.id===t.id&&(e=!0)})),e)this.alertModalMsg="此商品已經在購物車中",$("#alertModal").modal("show"),this.$set(this.status.loadingItem,"id","");else{var o="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping"),i={product:t.id,quantity:1};this.$set(this.status.loadingItem,"id",t.id),this.$http.post(o,i).then((function(e){console.log(e),a.getCarts(),a.$set(a.status.loadingItem,"id",""),a.alertModalMsg="".concat(t.title," 成功加入購物車囉"),$("#alertModal").modal("show")})).catch((function(t){console.log(t.response),a.$set(a.status.loadingItem,"id","")}))}},showItemInfo:function(t){console.log("showItemInfo",t),this.$router.push("product/".concat(t.id))}}}),n=s,r=e("2877"),c=Object(r["a"])(n,o,i,!1,null,null,null);a["default"]=c.exports},e8b5:function(t,a,e){var o=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-169c433c.1a0b9929.js.map