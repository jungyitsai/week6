(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b16d288"],{"159b":function(t,n,e){var o=e("da84"),a=e("fdbc"),i=e("17c2"),r=e("9112");for(var c in a){var s=o[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{r(u,"forEach",i)}catch(d){u.forEach=i}}},"17c2":function(t,n,e){"use strict";var o=e("b727").forEach,a=e("a640"),i=e("ae40"),r=a("forEach"),c=i("forEach");t.exports=r&&c?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,n,e){var o=e("d039"),a=e("b622"),i=e("2d00"),r=a("species");t.exports=function(t){return i>=51||!o((function(){var n=[],e=n.constructor={};return e[r]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},4160:function(t,n,e){"use strict";var o=e("23e7"),a=e("17c2");o({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"65f0":function(t,n,e){var o=e("861d"),a=e("e8b5"),i=e("b622"),r=i("species");t.exports=function(t,n){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?o(e)&&(e=e[r],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},8418:function(t,n,e){"use strict";var o=e("c04e"),a=e("9bf2"),i=e("5c6c");t.exports=function(t,n,e){var r=o(n);r in t?a.f(t,r,i(0,e)):t[r]=e}},"99af":function(t,n,e){"use strict";var o=e("23e7"),a=e("d039"),i=e("e8b5"),r=e("861d"),c=e("7b0b"),s=e("50c4"),u=e("8418"),d=e("65f0"),l=e("1dde"),f=e("b622"),p=e("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=p>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),y=l("concat"),L=function(t){if(!r(t))return!1;var n=t[h];return void 0!==n?!!n:i(t)},C=!b||!y;o({target:"Array",proto:!0,forced:C},{concat:function(t){var n,e,o,a,i,r=c(this),l=d(r,0),f=0;for(n=-1,o=arguments.length;n<o;n++)if(i=-1===n?r:arguments[n],L(i)){if(a=s(i.length),f+a>v)throw TypeError(g);for(e=0;e<a;e++,f++)e in i&&u(l,f,i[e])}else{if(f>=v)throw TypeError(g);u(l,f++,i)}return l.length=f,l}})},a640:function(t,n,e){"use strict";var o=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&o((function(){e.call(null,n||function(){throw 1},1)}))}},ae40:function(t,n,e){var o=e("83ab"),a=e("d039"),i=e("5135"),r=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,n){if(i(c,t))return c[t];n||(n={});var e=[][t],u=!!i(n,"ACCESSORS")&&n.ACCESSORS,d=i(n,0)?n[0]:s,l=i(n,1)?n[1]:void 0;return c[t]=!!e&&!a((function(){if(u&&!o)return!0;var t={length:-1};u?r(t,1,{enumerable:!0,get:s}):t[1]=1,e.call(t,d,l)}))}},b727:function(t,n,e){var o=e("0366"),a=e("44ad"),i=e("7b0b"),r=e("50c4"),c=e("65f0"),s=[].push,u=function(t){var n=1==t,e=2==t,u=3==t,d=4==t,l=6==t,f=5==t||l;return function(p,h,v,g){for(var b,y,L=i(p),C=a(L),m=o(h,v,3),S=r(C.length),x=0,_=g||c,E=n?_(p,S):e?_(p,0):void 0;S>x;x++)if((f||x in C)&&(b=C[x],y=m(b,x,L),t))if(n)E[x]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:s.call(E,b)}else if(d)return!1;return l?-1:u||d?d:E}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},b789:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"mt-4"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(n){t.isLoading=n}}}),e("button",{staticClass:"btn btn-outline-danger mb-2 float-right",attrs:{type:"button"},on:{click:function(n){return t.deleteItem("all")}}},[t._v("刪除所有品項")]),e("table",{staticClass:"table"},[t._m(0),e("tbody",[t._l(t.carts,(function(n){return e("tr",{key:n.product.id},[e("td",[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(n.product.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",[t._v(t._s(n.product.title))]),e("td",[e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",disabled:n.quantity<=1},on:{click:function(e){n.quantity--,t.updateCarts(n.product.id,n.quantity)}}},[t._v("-")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.quantity,expression:"item.quantity"}],staticClass:"form-control text-right",attrs:{type:"number",min:"1"},domProps:{value:n.quantity},on:{change:function(e){return t.updateCarts(n.product.id,n.quantity)},input:function(e){e.target.composing||t.$set(n,"quantity",e.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){n.quantity++,t.updateCarts(n.product.id,n.quantity)}}},[t._v("+")])])])]),e("td",[t._v(t._s(n.product.unit))]),e("td",[t._v(t._s(n.product.price))])])})),e("tr",[e("td",{attrs:{colspan:"4"}}),e("td",[t._v("總計： "+t._s(t.totalCost)+" 元")])])],2)])],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("刪除")]),e("th",{attrs:{scope:"col"}},[t._v("品名")]),e("th",{attrs:{scope:"col"}},[t._v("數量")]),e("th",{attrs:{scope:"col"}},[t._v("單位")]),e("th",{attrs:{scope:"col"}},[t._v("單價")])])])}],i=(e("99af"),e("4160"),e("159b"),{data:function(){return{carts:[],totalCost:0,isLoading:!1}},created:function(){this.getCarts()},methods:{getCarts:function(){var t=this,n="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping");this.isLoading=!0,this.$http.get(n).then((function(n){console.log("getCarts",n.data.data),t.carts=n.data.data,t.totalCost=0,t.carts.forEach((function(n){t.totalCost+=n.product.price*n.quantity})),t.isLoading=!1})).catch((function(t){console.log(t)}))},updateCarts:function(t,n){var e=this;console.log("updateCarts",t,n);var o="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping"),a={product:t,quantity:n};this.isLoading=!0,this.$http.patch(o,a).then((function(t){console.log(t),e.isLoading=!1,e.getCarts()})).catch((function(t){console.log(t),e.isLoading=!1}))},deleteItem:function(t){var n=this;if(console.log(t),this.isLoading=!0,"all"===t){var e="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping/all/product");this.$http.delete(e).then((function(t){console.log(t),n.isLoading=!1,n.getCarts()})).catch((function(t){console.log(t),n.isLoading=!1}))}else{var o="".concat("https://course-ec-api.hexschool.io/","api/").concat("83e5dddb-dc92-4272-9ddd-488cfb6ae1e0","/ec/shopping/").concat(t),a={product:t};this.$http.delete(o,a).then((function(t){console.log(t),n.isLoading=!1,n.getCarts()})).catch((function(t){console.log(t),n.isLoading=!1}))}}}}),r=i,c=e("2877"),s=Object(c["a"])(r,o,a,!1,null,null,null);n["default"]=s.exports},e8b5:function(t,n,e){var o=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==o(t)}},fdbc:function(t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-5b16d288.435d3198.js.map